<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">git教程 | 风中的鱼</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "ひみつきちYUYU";
  mashiro_option.author_name = "YUYU";
  mashiro_option.site_url = "www.yulinblog.com";
  mashiro_option.v_appId = "4NBvruApUCpLtmlsyQLevDfx-gzGzoHsz";
  mashiro_option.v_appKey = "eTSHbT3jvLQPcVYMC7QFXQFd";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/cover/5.jpg,https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/cover/3.jpg,https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/cover/4.jpg,https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/cover/6.jpg".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop ">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="www.yulinblog.com">
          <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/custom/avatar.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>在海边捡贝壳的孩子</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="https://github.com/sunshine98yy" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/social/github1.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="mailto:sunshine98yy@163.com" target="_blank" class="social-github" title="email">
                    <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/social/email.svg">
                  </a>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/social/wechat.png">
                  </a>
                  <div class="wechatInner">
                    <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/custom/whchat.jpg">
                  </div>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">ひみつきち</span>
            <span class="shironeko">YUYU</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fas fa-home" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/技术/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/笔记/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          笔记
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/项目/">
                          <i class="fa fa-git" aria-hidden="true"></i>
                          项目
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/随想/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          随想
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/转载/">
                          <i class="fa fa-share" aria-hidden="true"></i>
                          转载
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/bangumi/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          书单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/光影艺术/">
                          <i class="fa fa-photo" aria-hidden="true"></i>
                          摄影
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/tags/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-tag" aria-hidden="true"></i>
                    标签
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/categories/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-bookmark" aria-hidden="true"></i>
                    分类
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    友人帐
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/donate/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
                    赞赏
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/atom.xml">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
                    RSS
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_githello-github.jpg);" src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_githello-github.jpg">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      git教程</h1>
      <p class="entry-census">
        <span>
          <a href="www.yulinblog.com">
            <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/custom/avatar.jpg">
          </a>
        </span>
        <span>
          <a href="www.yulinblog.com">YUYU</a>
        </span>
        <span class="bull">
        ·</span>
        2020-5-21<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h2 id="Git简介"><a href="#Git简介" class="headerlink" title="Git简介"></a>Git简介</h2><p>Git是一个<span style="color:red">开源的分布式版本控制系统</span>，可以有效、高速的处理从很小到非常大的项目版本管理。 Git 是Linus Torvalds为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p>
<p>尽管最初 Git 的开发是为了辅助 Linux 内核开发的过程，但是现在很多其他自由软件项目中也使用了 Git。</p>
<h3 id="SVN与Git的区别"><a href="#SVN与Git的区别" class="headerlink" title="SVN与Git的区别"></a>SVN与Git的区别</h3><p>SVN是<strong>集中式版本控制系统</strong>，版本库集中放在中央服务器，干活的时候，用的都是自己的电脑，所以首先要从中央服务器那里得到最新的版本，然后干活，干完后，需要把自己做完的活推送到中央服务器。中央服务器就好比是一个图书馆，你要改一本书，必须先从图书馆借出来，然后回到家自己改，改完了，再放回图书馆。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_git20200611114422.jpg" style="zoom:33%;"></p>
<p>集中式版本控制系统<strong>必须联网才能工作</strong>，如果在局域网还可以，带宽够大，速度够快，如果在互联网下，如果网速慢的话，就纳闷了。</p>
<p>Git是<strong>分布式版本控制系统</strong>，没有中央服务器，每个人的电脑就是一个完整的版本库，这样，工作的时候就不需要联网了，因为版本都是在自己的电脑上。既然每个人的电脑都有一个完整的版本库，那多个人如何协作呢？比如说自己在电脑上改了文件A，其他人也在电脑上改了文件A，这时，你们两之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。</p>
<p>和集中式版本控制系统相比，分布式版本控制系统的安全性要高很多，因为每个人电脑里都有完整的版本库，某一个人的电脑坏掉了不要紧，随便从其他人那里复制一个就可以了。而集中式版本控制系统的中央服务器要是出了问题，所有人都没法干活了。</p>
<p>在实际使用分布式版本控制系统的时候，其实很少在两人之间的电脑上推送版本库的修改，因为可能你们俩不在一个局域网内，两台电脑互相访问不了，也可能今天你的同事病了，他的电脑压根没有开机。因此，<strong>分布式版本控制系统通常也有一台充当“中央服务器”的电脑</strong>，但这个服务器的作用仅仅是用来方便“交换”大家的修改，没有它大家也一样干活，只是交换修改不方便而已。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_git20200611110751.jpg" style="zoom: 33%;"></p>
<h2 id="Windows-平台上安装"><a href="#Windows-平台上安装" class="headerlink" title="Windows 平台上安装"></a>Windows 平台上安装</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>打开<a href="https://git-scm.com/" target="_blank" rel="noopener">Git 官网</a> ，点击自己需要的版本，按照提示根据自己电脑系统版本下载相应Git,Mysysgitt是 windows版的Git。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a><strong>安装</strong></h3><p>打开下载好的Git安装包后，一直点击Next，保持默认选项，直到出现Install，点击Install，安装完成后点击Finish</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a><strong>使用</strong></h3><p>安装好后，在电脑桌面或者打开某一本地磁盘，在空白位置右击鼠标会发现多了两个选项<code>Git GUI Here</code>和<code>Git Bash Here</code>，如图所示，点击<code>Git Bash Here</code>即可从当前位置打开并使用使用Git。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200521131151.jpg" style="zoom: 50%;"></p>
<p>自己遇到的问题：git bash/gui here找不到应用程序</p>
<p>由于移动过git的安装目录，因此选择git bash here 时windows无法访问指定设备路径或文件报错<br>解决办法：<a href="https://blog.csdn.net/weixin_39643135/article/details/79440222" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39643135/article/details/79440222</a></p>
<h2 id="配置Git环境"><a href="#配置Git环境" class="headerlink" title="配置Git环境"></a><strong>配置Git环境</strong></h2><p>1.打开<a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>官网，注册一个账号，注册好后，双击桌面上的Git Bash快捷图标，进行环境配置。</p>
<p>2.配置用户名<br><code>git config --global user.name &quot;username&quot;</code>  ##username是自己的账户名，global表示所有仓库都会使用这种配置，可针对某个仓库进行配置</p>
<p>3.配置邮箱<br><code>git config --global user.email &quot;username@email.com&quot;</code> ##username@email.com注册账号时用的邮箱</p>
<blockquote>
<p>因为Git是分布式版本控制系统，所以需要填写用户名和邮箱作为一个标识。<br>注意：git config —global 参数，有了这个参数，表示你这台机器上所有的Git仓库都会使用这个配置，当然你也可以对某个仓库指定的不同的用户名和邮箱。</p>
</blockquote>
<p>4.命令查看之前的配置是否成功</p>
<p>键入<code>git config --global --list</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200521221210.png" style="zoom: 50%;"></p>
<p>5.生成ssh秘钥</p>
<p>键入<code>ssh-keygen -t rsa</code>生成ssh，连敲三次回车键，结束后去系统盘目录下（一般在 C:\用户\当前用户\ .ssh）查看是否生成 <code>.ssh</code> 文件夹，此文件夹中包含以下两个文件：<code>id_rsa</code>、<code>id_rsa.pub</code></p>
<pre><code>ssh-keygen -t rsa -C &quot;你的邮箱&quot;  #邮箱是github的注册邮箱
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):&lt;回车就好&gt;
</code></pre><p>6.在 GitHub 账户中添加你的公钥</p>
<p>运行下面命令，将公钥的内容复制到剪切板<code>clip &lt; ~/.ssh/id_rsa.pub</code></p>
<p>打开【github】—-【settings】—-【SSH and GPG keys】—-【new ssh key】—-【把内容粘到key区域】—-【add SSH key】</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200521131321.png" alt></p>
<p>7.测试配置是否成功</p>
<p>在Git Bash命令框中键入<code>ssh -T git@github.com</code>命令，回车后若出现下面情况，则说明环境配置成功。(连网状态下)</p>
<pre><code>$ ssh -T git@github.com
Hi sunshine98yy! You&#39;ve successfully authenticated, but GitHub does not provide shell access.
</code></pre><h2 id="git的图形化界面操作软件"><a href="#git的图形化界面操作软件" class="headerlink" title="git的图形化界面操作软件"></a>git的图形化界面操作软件</h2><p>选择<a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">sourcetree</a>作为git的图形化操作软件，可以根据自己的需要选择不同的图形化操作软件。</p>
<p>安装过程很简单。本人安装完后碰到需要注册的问题，由于是外国网站，访问可能会有问题，提供下面绕过注册的方法。</p>
<p><a href="https://www.cnblogs.com/liuxin-673855200/p/11151835.html" target="_blank" rel="noopener">SOURCETREE 3.1.3 版本跳过BITBUCKET注册方法（亲测好用）</a>)</p>
<h2 id="git操作"><a href="#git操作" class="headerlink" title="git操作"></a>git操作</h2><h3 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h3><p>版本库又名仓库，英文名repository,你可以简单的理解一个目录，这个目录里面的所有文件都可以被Git管理起来，每个文件的修改，删除，Git都能跟踪，以便任何时刻都可以追踪历史，或者在将来某个时刻还可以将文件”还原”。</p>
<p>下面演示创建本地版本库，提交文件到本地版本库</p>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>在【D盘】 下新建一个demo1版本库，创建demo1文件夹，文件夹为空。</p>
<p>1.通过命令 <code>git init</code> 把这个目录变成git可以管理的仓库<br>这时候你当前demo1目录下会多了一个.git的目录（.表示此文件隐藏），这个目录是Git来跟踪管理版本的，没事千万不要手动乱改这个目录里面的文件，否则，会把git仓库给破坏了。</p>
<p>2.把文件添加到版本库中。在版本库中新建test.txt文件，文件内容git repo1。 <code>echo &quot;git repo1&quot; &gt;&gt; test.txt</code></p>
<blockquote>
<p>首先要明确下，所有的版本控制系统，只能跟踪文本文件的改动，比如txt文件，网页，所有程序的代码等，Git也不列外，版本控制系统可以告诉你每次的改动，但是图片，视频这些二进制文件，虽能也能由版本控制系统管理，但没法跟踪文件的变化，只能把二进制文件每次改动串起来，也就是知道图片从1kb变成2kb，但是到底改了啥，版本控制也不知道。</p>
</blockquote>
<p>​    第一步：使用命令 git add readme.txt添加到暂存区里面去。<code>git add test.txt</code></p>
<p>​    第二步：用命令 git commit告诉Git，把文件提交到仓库。<code>git commit -m &quot;repo1 first commit&quot;</code></p>
<p><code>git commit</code>命令执行成功后会告诉你，<code>1 file changed</code>：1个文件被改动（我们新添加的readme.txt文件）；<code>1 insertions</code>：插入了一行内容（readme.txt有一行内容）。</p>
<p>现在我们已经提交了一个test.txt文件，我们下面可以通过命令<code>git status</code>来查看是否还有文件未提交。显示working tree clean ,说明没有任何文件未提交。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522124459.png" alt="img" style="zoom:50%;"></td>
<td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522124658.png" alt="img" style="zoom:50%;"></td>
</tr>
</tbody>
</table>
</div>
<p>现在继续来改下test.txt内容，比如我在下面添加一行change内容，继续使用git status来查看下结果，如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522142303.jpg" style="zoom:50%;"></p>
<p><code>git status</code>命令可以让我们时刻掌握仓库当前的状态，上面的命令输出告诉我们，<code>readme.txt</code>被修改过了，但还没有准备提交修改。</p>
<p>查看test.txt文件改了什么内容？可以使用命令<code>git diff test.txt</code>：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522144342.jpg" style="zoom: 67%;"></p>
<p>如上可以看到，test.txt文件内容从一行git repo改成 二行 添加了一行change内容。<br>知道了对test.txt文件做了什么修改后，我们可以放心的提交到仓库了，提交修改和提交文件是一样的2步(第一步是git add 第二步是：git commit)。</p>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>初始化一个Git仓库，使用<code>git init</code>命令。</p>
<p>添加文件到Git仓库，分两步：</p>
<ol>
<li>使用命令<code>git add</code>，注意，可反复多次使用，添加多个文件；</li>
<li>使用命令<code>git commit -m</code>，完成。</li>
</ol>
<p>要随时掌握工作区的状态，使用<code>git status</code>命令。</p>
<p>如果<code>git status</code>告诉你有文件被修改过，用<code>git diff</code>可以查看修改内容。</p>
<h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><p>你已经学会了修改文件，然后把修改提交到Git版本库，现在我继续对test.txt文件进行修改，再增加一行<br>内容为second change，并提交到本地仓库。</p>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><p>现在我已经对test.txt文件做了三次修改了，那么我现在想查看下历史记录，如何查呢？</p>
<p>使用命令<code>git log</code> ，命令显示从最近到最远的提交日志。我们也可以使用命令 <code>git log --pretty=oneline</code>来精简显示信息</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522220818.jpg" style="zoom: 67%;"></td>
<td><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522223120.jpg" alt></td>
</tr>
</tbody>
</table>
</div>
<p>注：<code>commit id</code>（版本号）需要用这么一大串数字？因为Git是分布式的版本控制系统，后面我们还要研究多人在同一个版本库里工作，如果大家都用1，2，3……作为版本号，那肯定就冲突了。</p>
<p>现在我想使用版本回退操作，我想把当前的版本回退到上一个版本，可以使用如下命令：</p>
<p><code>git reset --hard HEAD^</code> 那么如果要回退到上上个版本只需把<code>HEAD^</code> 改成<code>HEAD^^</code> 以此类推。那如果要回退到前100个版本的话，使用上面的方法肯定不方便，我们可以使用下面的简便命令操作：<code>git reset --hard HEAD~100</code> 即可。</p>
<p>文本中的内容会回退到对应版本的内容。此时<code>git log</code>显示的最新的版本是回退的版本。后面新的版本不会显示。如下图，最新的second add 不会显示</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522230141.jpg" style="zoom:50%;"></p>
<p>此时我又想回退到最新的版本second add。内容要如何恢复呢？<span style="color:red">我们可以通过版本号回退</span>，使用命令方法如下：<br>git reset —hard 版本号 ，但是现在的问题假如我已经关掉过一次命令行或者second add内容的版本号我并不知道呢？要如何知道增加second add内容的版本号呢？可以通过如下命令即可获取到版本号：<code>git reflog</code></p>
<p>演示如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200522230959.jpg" style="zoom:67%;"></p>
<p>通过上面的显示我们可以知道，增加内容second add的版本号是 b65c2d7。我们现在可以命令<br><code>git reset --hard b65c2d7</code>来恢复了。</p>
<p>Git的版本回退速度非常快，因为Git在内部有个指向当前版本的<code>HEAD</code>指针，当你回退版本的时候，Git仅仅是改变了HEAD的指向。</p>
<h4 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h4><ul>
<li><code>HEAD</code>指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令<code>git reset --hard commit_id</code>。</li>
<li>穿梭前，用<code>git log</code>可以查看提交历史，以便确定要回退到哪个版本。</li>
<li>要重返未来，用<code>git reflog</code>查看命令历史，以便确定要回到未来的哪个版本。</li>
</ul>
<h3 id="工作区与暂存区"><a href="#工作区与暂存区" class="headerlink" title="工作区与暂存区"></a>工作区与暂存区</h3><h4 id="工作区-Working-Directory"><a href="#工作区-Working-Directory" class="headerlink" title="工作区(Working Directory)"></a>工作区(Working Directory)</h4><p><strong>工作区</strong>：就是你在电脑上看到的目录，比如目录下demo1里的文件(.git隐藏目录版本库除外)。或者以后需要再新建的目录文件等等都属于工作区范畴。</p>
<h4 id="版本库-Repository"><a href="#版本库-Repository" class="headerlink" title="版本库(Repository)"></a>版本库(Repository)</h4><p>工作区有一个隐藏目录.git,这个不属于工作区，这是git的版本库。</p>
<p>版本库里面存了很多东西，其中最重要的就是称为stage（或者叫index）的暂存区，还有Git为我们自动创建了第一个分支master,以及指向master的一个指针HEAD。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_git20200611141650.jpg" style="zoom:50%;"></p>
<p>我们前面说过使用Git提交文件到版本库有两步：<br>第一步：是使用 git add 把文件添加进去，实际上就是<strong>把文件添加到暂存区</strong>。<br>第二步：使用git commit提交更改，实际上就是<strong>把暂存区的所有内容提交到当前分支上</strong>。</p>
<h3 id="管理修改"><a href="#管理修改" class="headerlink" title="管理修改"></a>管理修改</h3><p>Git跟踪并管理的是修改，而非文件。</p>
<p>如果我们的操作流程是第一次修改 -&gt; <code>git add</code> -&gt; 第二次修改 -&gt; <code>git commit</code>，会发现第二次的修改没有被提交</p>
<p>Git管理的是修改，当你用<code>git add</code>命令后，在工作区的第一次修改被放入暂存区，准备提交，但是，在工作区的第二次修改并没有放入暂存区，所以，<code>git commit</code>只负责把暂存区的修改提交了，也就是第一次的修改被提交了，第二次的修改不会被提交。</p>
<p>提交后，用<code>git diff HEAD -- readme.txt</code>命令可以查看工作区和版本库里面最新版本的区别。</p>
<p>那怎么提交第二次修改呢？你可以继续<code>git add</code>再<code>git commit</code>，也可以别着急提交第一次修改，先<code>git add</code>第二次修改，再<code>git commit</code>，就相当于把两次修改合并后一块提交了：</p>
<p>第一次修改 -&gt; <code>git add</code> -&gt; 第二次修改 -&gt; <code>git add</code> -&gt; <code>git commit</code></p>
<h3 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h3><h4 id="情景一"><a href="#情景一" class="headerlink" title="情景一"></a>情景一</h4><p>工作区做了改动并添加到暂存区，未提交，此时需要恢复到改动前的版本:</p>
<p>一：如果知道要删掉哪那些内容的话，直接手动更改去掉那些需要的文件，然后<strong>add添加到暂存区，最后commit掉。</strong></p>
<p>二：用命令<code>git reset HEAD</code>可以把暂存区的修改撤销掉（unstage），重新放回工作区，丢弃工作区的修改。<code>git reset</code>命令既可以回退版本，也可以把暂存区的修改回退到工作区。当我们用<code>HEAD</code>时，表示最新的版本。</p>
<h4 id="情景二"><a href="#情景二" class="headerlink" title="情景二"></a>情景二</h4><p>只是工作区做了改动，此时需要恢复到改动前的版本：</p>
<p><code>git checkout -- file</code> 可以丢弃工作区的修改，如下命令：<code>git checkout -- test.txt</code>,</p>
<p>把test.txt文件在工作区做的修改全部撤销，这里有2种情况，如下：<br>1.test.txt自动修改后，还没有放到暂存区，使用 撤销修改就回到和版本库一模一样的状态。<br>2.另外一种是test.txt已经放入暂存区了，接着又作了修改，撤销修改就回到添加暂存区后的状态。</p>
<p>总之，就是让这个文件回到最近一次<code>git commit</code>或<code>git add</code>时的状态。对于第二种情况，我想我们继续做demo来看下，假如现在我对test.txt添加一行 内容为1111，我git add 增加到暂存区后，接着添加内容2222，我想通过撤销命令让其回到暂存区后的状态。如下所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200523140043.jpg" style="zoom:50%;"></p>
<p>注意：命令git checkout <span style="color:red">—</span> test.txt 中的 — 很重要，如果没有 — 的话，那么命令变成创建分支了。</p>
<h4 id="情景三"><a href="#情景三" class="headerlink" title="情景三"></a>情景三</h4><p>现在，假设你不但改错了东西，还从暂存区提交到了版本库，怎么办呢？使用版本回退可以回退到上一个版本，<code>git reset --hard HEAD^</code> 。不过，这是有条件的，就是你还没有把自己的本地版本库推送到远程。</p>
<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><p>在版本库demo1目录添加一个文件b.txt,提交,然后直接在文件管理器中把没用的文件删了，或者用<code>rm</code>命令删除</p>
<pre><code class="lang-shell">git add b.txt
git commit -m &#39;添加b.txt文件&#39;
rm b.txt #可以直接在目录下删除b.txt文件或者使用命令rm b.txt
</code></pre>
<p>执行完上述步骤后，此时有两个选择:</p>
<p>1.彻底从版本库中删掉此文件，那就用命令<code>git rm</code>删掉，并且<code>git commit</code></p>
<pre><code class="lang-shell">$ git rm b.txt
rm &#39;test.txt&#39;
$ git commit -m &quot;remove test.txt&quot;
[master d46f35e] remove test.txt
 1 file changed, 1 deletion(-)
 delete mode 100644 test.txt
</code></pre>
<p>2.删错了,想在版本库中恢复此文件，使用命令<code>git checkout -- b.txt</code></p>
<p><code>git checkout</code>其实是<strong>用版本库里的版本替换工作区的版本</strong>，无论工作区是修改还是删除，都可以“一键还原”。</p>
<p>注意：从来没有被添加到版本库就被删除的文件，是无法恢复的！</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200521223939.jpg" style="zoom: 67%;"></p>
<h2 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h2><p>目前使用的git命令都是在本地执行，如果想通过git分享我们的代码，或者想与其他开发人员合作，就需要将数据放到一台其他人员能连接的服务器上。</p>
<p>在了解之前，先注册github账号，由于你的本地Git仓库和github仓库之间的传输是通过SSH加密的，所以需要先设置SSH。</p>
<h3 id="添加远程仓库"><a href="#添加远程仓库" class="headerlink" title="添加远程仓库"></a>添加远程仓库</h3><p>我们已经在本地创建了一个Git仓库后，又想在github创建一个Git仓库，并且希望这两个仓库进行远程同步，这样github的仓库可以作为备份，又可以让其他人通过该仓库来协作。</p>
<p>新建一个名为testgit的仓库，效果如下</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200523144352.jpg" style="zoom: 33%;"></p>
<p>GitHub告诉我们，可以从这个仓库克隆出新的仓库，也可以把一个已有的本地仓库与之关联，然后，把本地仓库的内容推送到GitHub仓库。</p>
<p>运行如下命令</p>
<pre><code>git remote add origin https://github.com/sunshine98yy/testgit.git #本地仓库与远程仓库关联命令
git push -u origin master #推到远程仓库上命令
</code></pre><p>执行git remote就是先将本地仓库与远程仓库建立一个连接，origin是你为远端仓库所起的名字，一般都叫orign,后接远端仓库真实地址。</p>
<p>下一步，就可以把本地库的所有内容推送到远程库上。由于远程库是空的，我们第一次推送master分支时，加上了 –u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。</p>
<p>注意master是你要上传的分支的名字，如果当前所在的分支不叫master，会提示错误<br><code>git show-ref</code>显示远端的相关分支</p>
<p>从现在起，只要本地作了提交，就可以通过如下命令：<code>git push origin master</code><br>把本地master分支的最新修改推送到github上了，现在你就拥有了真正的分布式版本库了。</p>
<h3 id="SSH警告"><a href="#SSH警告" class="headerlink" title="SSH警告"></a>SSH警告</h3><p>当你第一次使用Git的<code>clone</code>或者<code>push</code>命令连接GitHub时，会得到一个警告：</p>
<pre><code>The authenticity of host &#39;github.com (xx.xx.xx.xx)&#39; can&#39;t be established.
RSA key fingerprint is xx.xx.xx.xx.xx.
Are you sure you want to continue connecting (yes/no)?
</code></pre><p>这是因为Git使用SSH连接，而SSH连接在第一次验证GitHub服务器的Key时，需要你确认GitHub的Key的指纹信息是否真的来自GitHub的服务器，输入<code>yes</code>回车即可。</p>
<p>Git会输出一个警告，告诉你已经把GitHub的Key添加到本机的一个信任列表里了：</p>
<pre><code>Warning: Permanently added &#39;github.com&#39; (RSA) to the list of known hosts.
</code></pre><p>这个警告只会出现一次，后面的操作就不会有任何警告了。</p>
<p>如果你实在担心有人冒充GitHub服务器，输入<code>yes</code>前可以对照<a href="https://help.github.com/articles/what-are-github-s-ssh-key-fingerprints/" target="_blank" rel="noopener">GitHub的RSA Key的指纹信息</a>是否与SSH连接给出的一致。</p>
<h3 id="克隆远程仓库"><a href="#克隆远程仓库" class="headerlink" title="克隆远程仓库"></a>克隆远程仓库</h3><p>实际开发中需要多人合作，所以需要将远程仓库的代码克隆到本地，然后在本地进行开发，开发完成后需要推送到远程仓库中，方便协作。（远程代码拷贝一份到本地，基于本地的代码进行开发）</p>
<p><code>git clone git@github.com:sunshine98yy/clone_demo.git  #（远程代码拷贝到本地）</code><br>—&gt;提交改动到本地仓库—&gt;本地仓库push到远程仓库<br>克隆仓库默认跟远程仓库分支绑定！！直接命令git push到远程仓库</p>
<h3 id="小结-2"><a href="#小结-2" class="headerlink" title="小结"></a>小结</h3><p>要关联一个远程库，使用命令<code>git remote add origin git@server-name:path/repo-name.git</code>；</p>
<p>关联后，使用命令<code>git push -u origin master</code>第一次推送master分支的所有内容；</p>
<p>此后，每次本地提交后，只要有必要，就可以使用命令<code>git push origin master</code>推送最新修改;</p>
<p>要克隆一个仓库，首先必须知道仓库的地址，然后使用<code>git clone</code>命令克隆。</p>
<p>Git支持多种协议，包括<code>https</code>，但<code>ssh</code>协议速度最快。</p>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><h3 id="创建与合并分支"><a href="#创建与合并分支" class="headerlink" title="创建与合并分支"></a>创建与合并分支</h3><p>Git把每次的提交串成一条时间线，这条时间线就是一个分支。截止到目前，只有一条时间线，在Git里，这个分支叫主分支，即master分支。HEAD严格来说不是指向提交，而是指向master，master才是指向提交的，所以，HEAD指向的就是当前分支。</p>
<p>一开始的时候，<code>master</code>分支是一条线，Git用<code>master</code>指向最新的提交，再用<code>HEAD</code>指向<code>master</code>，就能确定当前分支，以及当前分支的提交点：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit06110001.jpg" style="zoom: 33%;"></p>
<p>每次提交，<code>master</code>分支都会向前移动一步，这样，随着你不断提交，<code>master</code>分支的线也越来越长。</p>
<p>当我们创建新的分支，例如<code>dev</code>时，Git新建了一个指针叫<code>dev</code>，指向<code>master</code>相同的提交，再把<code>HEAD</code>指向<code>dev</code>，就表示当前分支在<code>dev</code>上：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit06110002.jpg" style="zoom: 33%;"></p>
<p>Git创建一个分支很快，因为除了增加一个<code>dev</code>指针，改改<code>HEAD</code>的指向，工作区的文件都没有任何变化！</p>
<p>不过，从现在开始，对工作区的修改和提交就是针对<code>dev</code>分支了，比如新提交一次后，<code>dev</code>指针往前移动一步，而<code>master</code>指针不变：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit06110003.jpg" style="zoom: 33%;"></p>
<p>假如我们在<code>dev</code>上的工作完成了，就可以把<code>dev</code>合并到<code>master</code>上。Git怎么合并呢？最简单的方法，就是直接把<code>master</code>指向<code>dev</code>的当前提交，就完成了合并：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit06110007.png" style="zoom:50%;"></p>
<p>所以Git合并分支也很快！就改改指针，工作区内容也不变！</p>
<p>合并完分支后，甚至可以删除<code>dev</code>分支。删除<code>dev</code>分支就是把<code>dev</code>指针给删掉，删掉后，我们就剩下了一条<code>master</code>分支：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit06110008.png" style="zoom: 50%;"></p>
<p>首先，我们来创建dev分支，然后切换到dev分支上。如下操作：</p>
<pre><code class="lang-bash">git checkout -b dev #创建并切换分支
Switched to a new branch &#39;dev&#39;
git branch  #查看当前的分支
</code></pre>
<p><code>git checkout</code> 命令加上 –b参数表示创建并切换，相当于如下2条命令</p>
<pre><code class="lang-bash">git branch dev
git checkout dev
</code></pre>
<p>git branch查看分支，会列出所有的分支，当前分支前面会添加一个星号。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200524221926.jpg" style="zoom: 67%;"></p>
<p>我们在dev分支上继续做demo，比如我们现在在test.txt再增加一行3333，以下为dev分支未添加内容之前和添加内容之后</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200524233519.jpg" style="zoom: 67%;"></td>
<td style="text-align:center"><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20200524222518823.png" alt="image-20200524222518823" style="zoom:50%;"></td>
</tr>
</tbody>
</table>
</div>
<p>现在dev分支工作已完成，现在我们切换到主分支master上，继续查看test.txt内容如下</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200524225520.jpg" style="zoom:50%;"></p>
<p>因为不是分支demo，所以3333不显示</p>
<p>我们把dev分支上的内容合并到分支master上，可以在master分支上，使用如下命令<code>git merge dev</code> :</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200524234329.jpg" style="zoom:50%;"></p>
<p><code>git merge</code>命令用于合并指定分支到当前分支上，合并后，再查看test.txt内容，可以看到，和dev分支最新提交的是完全一样的。<br>注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。当然，也不是每次合并都能<code>Fast-forward</code>，我们后面会讲其他方式的合并。<br>合并完成后，我们可以接着删除dev分支了:<code>git branch -d dev</code></p>
<h4 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h4><p>我们注意到切换分支使用<code>git checkout</code>，而前面讲过的撤销修改则是<code>git checkout --</code>，同一个命令，有两种作用，确实有点令人迷惑。</p>
<p>实际上，切换分支这个动作，用<code>switch</code>更科学。因此，最新版本的Git提供了新的<code>git switch</code>命令来切换分支：</p>
<p>创建并切换到新的<code>dev</code>分支，可以使用：</p>
<pre><code>$ git switch -c dev
</code></pre><p>直接切换到已有的<code>master</code>分支，可以使用：</p>
<pre><code>$ git switch master
</code></pre><p>使用新的<code>git switch</code>命令，比<code>git checkout</code>要更容易理解。</p>
<h4 id="小结-3"><a href="#小结-3" class="headerlink" title="小结"></a>小结</h4><p>Git鼓励大量使用分支</p>
<p>查看分支：<code>git branch</code></p>
<p>创建分支：<code>git branch name</code> </p>
<p>切换分支：<code>git checkout name</code> 或者<code>git switch name</code> </p>
<p>创建+切换分支：<code>git checkout -b</code>或者<code>git switch -c</code></p>
<p>合并某分支到当前分支：<code>git merge</code></p>
<p>删除分支：<code>git branch -d</code></p>
<h3 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h3><p>合并分支往往也不是一帆风顺的</p>
<p>准备新建一个分支，比如名字叫fenzhi1，在test.txt添加一行内容8888，然后提交</p>
<p>同样，我们现在切换到master分支上来，也在最后一行添加内容，内容为5555。如下左图：     </p>
<p>现在，<code>master</code>分支和<code>feature1</code>分支各自都分别有新的提交，变成了如下右图：</p>
<p>这种情况下，Git无法执行“快速合并”，只能试图把各自的修改合并起来，但这种合并就可能会有冲突</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525000743.jpg" style="zoom: 50%;"></td>
<td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit06110009.png" style="zoom: 67%;"></td>
</tr>
</tbody>
</table>
</div>
<p>现在我们需要在master分支上来合并fenzhi1，果然冲突了！Git告诉我们，<code>test.txt</code>文件存在冲突，必须手动解决冲突后再提交。<code>git status</code>也可以告诉我们冲突的文件：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525001637.jpg" style="zoom:50%;"></p>
<p>Git用&lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容，其中&lt;&lt;<head是指主分支修改的内容，>&gt;&gt;&gt;&gt;fenzhi1 是指fenzhi1上修改的内容，我们可以修改成和主干代码上一样（fenzhi1删除8888，改5555和master保持一致）再保存。可参考<a href="https://blog.csdn.net/cacacai/article/details/80792103?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase" target="_blank" rel="noopener">git处理冲突合并</a></head是指主分支修改的内容，></p>
<h4 id="小结-4"><a href="#小结-4" class="headerlink" title="小结"></a>小结</h4><p>当Git无法自动合并分支时，就必须首先解决冲突。解决冲突后，再提交，合并完成。</p>
<p>解决冲突就是把Git合并失败的文件手动编辑为我们希望的内容，再提交。</p>
<p>用<code>git log --graph</code>命令可以看到分支合并图。</p>
<h3 id="分支管理策略"><a href="#分支管理策略" class="headerlink" title="分支管理策略"></a>分支管理策略</h3><p>通常合并分支时，git一般使用”Fast forward”模式，在这种模式下，删除分支后，会丢掉分支信息。</p>
<p>如果要强制禁用<code>Fast forward</code>模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。</p>
<p>现在我们来使用带参数 –no-ff来禁用”Fast forward”模式。如<code>git merge –no-ff -m “注释” dev</code>。将dev分支删除后，用git log还能查看被删除的分支信息。</p>
<p>首先，仍然创建并切换<code>dev</code>分支：</p>
<pre><code class="lang-shell">$ git switch -c dev
Switched to a new branch &#39;dev&#39;
</code></pre>
<p>修改readme.txt文件，并提交一个新的commit：</p>
<pre><code class="lang-shell">$ git add readme.txt 
$ git commit -m &quot;add merge&quot;
[dev f52c633] add merge
 1 file changed, 1 insertion(+)
</code></pre>
<p>现在，我们切换回<code>master</code>：</p>
<pre><code class="lang-shell">$ git switch master
Switched to branch &#39;master&#39;
</code></pre>
<p>准备合并<code>dev</code>分支，请注意<code>--no-ff</code>参数，表示禁用<code>Fast forward</code>：</p>
<pre><code class="lang-shell">$ git merge --no-ff -m &quot;merge with no-ff&quot; dev
Merge made by the &#39;recursive&#39; strategy.
 readme.txt | 1 +
 1 file changed, 1 insertion(+)
</code></pre>
<p>因为本次合并要创建一个新的commit，所以加上<code>-m</code>参数，把commit描述写进去。</p>
<p>合并后，我们用<code>git log</code>看看分支历史：</p>
<pre><code class="lang-shell">$ git log --graph --pretty=oneline --abbrev-commit
*   e1e9c68 (HEAD -&gt; master) merge with no-ff
|\  
| * f52c633 (dev) add merge
|/  
*   cf810e4 conflict fixed
...
</code></pre>
<h4 id="分支策略"><a href="#分支策略" class="headerlink" title="分支策略"></a>分支策略</h4><p>在实际开发中，我们应该按照几个基本原则进行分支管理：</p>
<p>首先master主分支应该是非常稳定的，也就是用来发布新版本，一般情况下不允许在上面干活；</p>
<p>干活一般情况下在新建的dev分支上干活，也就是说，<code>dev</code>分支是不稳定的，到某个时候，比如1.0版本发布时，再把<code>dev</code>分支合并到<code>master</code>上，在<code>master</code>分支发布1.0版本；</p>
<p>你和你的小伙伴们每个人都在<code>dev</code>分支上干活，每个人都有自己的分支，时不时地往<code>dev</code>分支上合并就可以了。</p>
<p>所以，团队合作的分支看起来就像这样：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit06110010.png" alt></p>
<h4 id="小结-5"><a href="#小结-5" class="headerlink" title="小结"></a>小结</h4><p>Git分支十分强大，在团队开发中应该充分应用。</p>
<p>合并分支时，加上<code>--no-ff</code>参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而<code>fast forward</code>合并就看不出来曾经做过合并。</p>
<h3 id="bug分支"><a href="#bug分支" class="headerlink" title="bug分支"></a>bug分支</h3><p>在开发中，会经常碰到bug问题，有了bug就需要修复，在Git中，由于分支是如此的强大，所以，每个bug都可以通过一个新的临时分支来修复，修复后，合并分支，然后将临时分支删除。<br>当你接到一个修复一个代号404的bug的任务时，很自然地，你想创建一个分支<code>issue-404</code>来修复它，但是，当前正在<code>dev</code>上进行的工作还没有提交。并不是不想提交，而是工作进行到一半时候，我们还无法提交，预计完成还需1天时间，但是我issue-404 bug需要5个小时内完成。怎么办呢？还好，Git还提供了一个stash功能，可以把当前工作现场 ”隐藏起来”，等以后恢复现场后继续工作。<code>git stash</code></p>
<pre><code class="lang-shell">git checkout dev
git stash #将当前的工作现场隐藏起来
git status #查看状态是干净的
</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525103854.jpg" style="zoom:50%;"></p>
<p>用<code>git status</code>查看工作区，就是干净的（除非有没有被Git管理的文件），因此可以放心地创建分支来修复bug。</p>
<p>现在可以通过创建issue-404分支来修复bug了。<br>首先我们要确定在那个分支上修复bug，比如我现在是在主分支master上来修复的，现在我要在master分支上创建一个临时分支，修复完成后，切换到master分支上，并完成合并，最后删除issue-404分支。演示如下：</p>
<pre><code class="lang-bash">git checkout -b issue-404 #创建临时分支
*****修改test文件bug********
git add test.txt
git commit -m &#39;fix bug 404&#39;
git checkout master #切换到master分支
git merge --no-ff -m &quot;merge bug 404&quot; issue-404 #合并分支issue-404内容
****合并分支后查看内容，和issue-404内容一致****
git branch -d issue-404 #在master分支上删除临时分支
</code></pre>
<p>现在回到dev分支上干活</p>
<pre><code class="lang-bash">git checkout dev #从master分支切换到dev分支
git status
</code></pre>
<p>工作区是干净的，那么我们工作现场去哪里呢？我们可以使用命令<code>git stash list</code>来查看下。工作现场还在，Git把stash内容存在某个地方了，但是需要恢复一下，可以使用如下2个方法：<br>1.<code>git stash apply</code>恢复，恢复后，stash内容并不删除，你需要使用命令<code>git stash drop</code>来删除。<br>2.另一种方式是直接使用<code>git stash pop</code>,恢复的同时把stash内容也删除了。再用<code>git stash list</code>查看，就看不到任何stash内容了。</p>
<p>在master分支上修复了bug后，我们要想一想，dev分支是早期从master分支分出来的，所以，这个bug其实在当前dev分支上也存在。</p>
<p>那怎么在dev分支上修复同样的bug？重复操作一次，提交不就行了？</p>
<p>有木有更简单的方法？</p>
<p>有！Git专门提供了一个<code>cherry-pick</code>命令，让我们能复制一个特定的提交到当前分支，用<code>git cherry-pick</code>，我们就不需要在dev分支上手动再把修bug的过程重复一遍。</p>
<h4 id="小结-6"><a href="#小结-6" class="headerlink" title="小结"></a>小结</h4><p>修复bug时，我们会通过创建新的bug分支进行修复，然后合并，最后删除；</p>
<p>当手头工作没有完成时，先把工作现场<code>git stash</code>一下，然后去修复bug，修复后，再<code>git stash pop</code>，回到工作现场；</p>
<p>在master分支上修复的bug，想要合并到当前dev分支，可以用<code>git cherry-pick &lt;commit&gt;</code>命令，把bug提交的修改“复制”到当前分支，避免重复劳动。</p>
<h3 id="Feature分支"><a href="#Feature分支" class="headerlink" title="Feature分支"></a>Feature分支</h3><p>软件开发中，总有无穷无尽的新的功能要不断添加进来。</p>
<p>添加一个新功能时，你肯定不希望因为一些实验性质的代码，把主分支搞乱了，所以，每添加一个新功能，最好新建一个feature分支，在上面开发，完成后，合并，最后，删除该feature分支。</p>
<p>你终于接到了一个新任务：开发代号为Vulcan的新功能，该功能计划用于下一代星际飞船。</p>
<p>于是准备开发：</p>
<pre><code class="lang-shell">$ git switch -c feature-vulcan
Switched to a new branch &#39;feature-vulcan&#39;
</code></pre>
<p>5分钟后，开发完毕：</p>
<pre><code class="lang-shell">$ git add vulcan.py

$ git status
On branch feature-vulcan
Changes to be committed:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)

    new file:   vulcan.py

$ git commit -m &quot;add feature vulcan&quot;
[feature-vulcan 287773e] add feature vulcan
 1 file changed, 2 insertions(+)
 create mode 100644 vulcan.py
</code></pre>
<p>切回<code>dev</code>，准备合并：</p>
<pre><code class="lang-shell">$ git switch dev
</code></pre>
<p>一切顺利的话，feature分支和bug分支是类似的，合并，然后删除。</p>
<p>但是！</p>
<p>就在此时，接到上级命令，因经费不足，新功能必须取消！</p>
<p>虽然白干了，但是这个包含机密资料的分支还是必须就地销毁：</p>
<pre><code class="lang-shell">$ git branch -d feature-vulcan
error: The branch &#39;feature-vulcan&#39; is not fully merged.
If you are sure you want to delete it, run &#39;git branch -D feature-vulcan&#39;.
</code></pre>
<p>销毁失败。Git友情提醒，<code>feature-vulcan</code>分支还没有被合并，如果删除，将丢失掉修改，如果要强行删除，需要使用大写的<code>-D</code>参数。。</p>
<p>现在我们强行删除：</p>
<pre><code class="lang-shell">$ git branch -D feature-vulcan
Deleted branch feature-vulcan (was 287773e).
</code></pre>
<p>终于删除成功！</p>
<p>实际工作中，策划经常改需求的说，怕需求变更太频繁，用上一节的stash隐藏就行了。</p>
<h3 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h3><p>当你从远程库克隆时候，实际上Git自动把本地的master分支和远程的master分支对应起来了，并且远程库的默认名称是origin。<br>要查看远程库的信息 使用 <code>git remote</code><br>要查看远程库的详细信息 使用 <code>git remote –v</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525122722.jpg" style="zoom:50%;"></p>
<p>上面显示了可以抓取和推送的<code>origin</code>的地址。如果没有推送权限，就看不到push地址。</p>
<h4 id="推送分支"><a href="#推送分支" class="headerlink" title="推送分支"></a>推送分支</h4><p>推送分支，就是把该分支上的所有本地提交推送到远程库。推送时，要指定本地分支，这样，Git就会把该分支推送到远程库对应的远程分支上：</p>
<p> <code>git push origin master</code></p>
<p>要推送到其他分支，比如dev分支上，我们还是那个命令 <code>git push origin dev</code><br>那么一般情况下，那些分支要推送呢？</p>
<ul>
<li><code>master</code>分支是主分支，因此要时刻与远程同步；</li>
<li><code>dev</code>分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步；</li>
<li>bug分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug；</li>
<li>feature分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。</li>
</ul>
<p>总之，就是在Git中，分支完全可以在本地自己藏着玩，是否推送，视你的心情而定！</p>
<h4 id="抓取分支"><a href="#抓取分支" class="headerlink" title="抓取分支"></a>抓取分支</h4><p>多人协作时，大家都会往master分支上推送各自的修改。现在我们可以模拟另外一个同事，可以在另一台电脑上（注意要把SSH key添加到github上）或者同一台电脑上另外一个目录克隆，新建一个目录名字叫demo2，接着进入testgit2目录，进行克隆远程的库到本地来<code>git clone git@github.com:sunshine98yy/testgit.git</code>（如下左图），现在目录下生成（如下右图）</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525125719.jpg" style="zoom:50%;"></td>
<td><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525125729.jpg" style="zoom:50%;"></td>
</tr>
</tbody>
</table>
</div>
<p>默认情况下，你的小伙伴只能看到本地的<code>master</code>分支，现在我们的小伙伴要在dev分支上做开发，就必须创建远程的origin的dev分支到本地，于是可以使用这个命令创建本地dev分支：</p>
<pre><code class="lang-bash">git checkout –b dev origin/dev #创建远程origin的dev分支到本地来
****可以在dev上继续修改提交，时不时地把dev分支push到远程*****
git push origin dev #把现在的dev分支推到远程去
</code></pre>
<p>小伙伴们已经向origin/dev分支上推送了提交，而我在我的目录文件下也对同样的文件同个地方作了修改，也试图推送到远程库时。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525132850.jpg" style="zoom: 67%;"></td>
<td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525132830.jpg" style="zoom: 67%;"></td>
</tr>
</tbody>
</table>
</div>
<p>由上面可知：推送失败，因为我的小伙伴最新提交的和我试图推送的有冲突，解决的办法也很简单，上面已经提示我们，先用<strong>git pull把最新的提交从origin/dev抓下来，然后在本地合并，解决冲突，再推送</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525135315.jpg" style="zoom:50%;"></p>
<p>git pull也失败了，是因为本地分支和远程分支没有建立联系 (使用git branch -vv 可以查看本地分支和远程分支的关联关系)。根据命令行提示只需要执行以下命令即可,设置dev和origin/dev的链接:<a href="https://higoge.github.io/2015/07/06/git-remote03/" target="_blank" rel="noopener">分支的upstream</a></p>
<p><code>git branch --set-upstream-to=origin/远程分支的名字(我的是dev) 本地分支的名字(我的是dev)</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525154335.jpg" style="zoom:50%;"></p>
<p>这回git pull成功，但是合并有冲突，需要手动解决，解决的方法和分支管理中的 解决冲突完全一样。解决后，提交，再push</p>
<p>现在手动已经解决完了，我接在需要再提交，再push到远程库里面去。</p>
<p><code>git push origin dev #继续推送到远程仓库中</code></p>
<p>因此，多人协作的工作模式通常是这样：</p>
<ol>
<li>首先，可以试图用<code>git push origin</code>推送自己的修改；</li>
<li>如果推送失败，则因为远程分支比你的本地更新，需要先用<code>git pull</code>试图合并；</li>
<li>如果合并有冲突，则解决冲突，并在本地提交；</li>
<li>没有冲突或者解决掉冲突后，再用<code>git push origin</code>推送就能成功！</li>
</ol>
<p>如果<code>git pull</code>提示<code>no tracking information</code>，则说明本地分支和远程分支的链接关系没有创建，用命令<code>git branch --set-upstream-to  origin/</code>。</p>
<p>这就是多人协作的工作模式，一旦熟悉了，就非常简单。</p>
<h4 id="小结-7"><a href="#小结-7" class="headerlink" title="小结"></a>小结</h4><ul>
<li>查看远程库信息，使用<code>git remote -v</code>；</li>
<li>本地新建的分支如果不推送到远程，对其他人就是不可见的；</li>
<li>从本地推送分支，使用<code>git push origin branch-name</code>，如果推送失败，先用<code>git pull</code>抓取远程的新提交；</li>
<li>在本地创建和远程分支对应的分支，使用<code>git checkout -b branch-name origin/branch-name</code>，本地和远程分支的名称最好一致；</li>
<li>建立本地分支和远程分支的关联，使用<code>git branch --set-upstream branch-name origin/branch-name</code>；</li>
<li>从远程抓取分支，使用<code>git pull</code>，如果有冲突，要先处理冲突。</li>
</ul>
<h3 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h3><p>多人在同一个分支上协作时，很容易出现冲突。即使没有冲突，后push的不得不先pull，在本地合并，然后才能push成功。每次合并再push后，分支会有分叉：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit0612_001.jpg" style="zoom:50%;"></p>
<p>Git有一种称为rebase的操作，把分叉的提交变成直线。</p>
<p>在和远程分支同步后，我们对<code>hello.py</code>这个文件做了两次提交。用<code>git log</code>命令看看：</p>
<pre><code class="lang-shell">$ git log --graph --pretty=oneline --abbrev-commit
* 582d922 (HEAD -&gt; master) add author
* 8875536 add comment
* d1be385 (origin/master) init hello
*   e5e69f1 Merge branch &#39;dev&#39;
|\  
| *   57c53ab (origin/dev, dev) fix env conflict
| |\  
| | * 7a5e5dd add env
| * | 7bd91f1 add new env
...
</code></pre>
<p>注意到Git用<code>(HEAD -&gt; master)</code>和<code>(origin/master)</code>标识出当前分支的HEAD和远程origin的位置分别是<code>582d922 add author</code>和<code>d1be385 init hello</code>，本地分支比远程分支快两个提交。</p>
<p>现在我们尝试推送本地分支：</p>
<pre><code class="lang-shell">$ git push origin master
To github.com:michaelliao/learngit.git
 ! [rejected]        master -&gt; master (fetch first)
error: failed to push some refs to &#39;git@github.com:michaelliao/learngit.git&#39;
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., &#39;git pull ...&#39;) before pushing again.
hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.
</code></pre>
<p>很不幸，失败了，这说明有人先于我们推送了远程分支。按照经验，先pull一下：</p>
<pre><code class="lang-shell">$ git pull
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (1/1), done.
remote: Total 3 (delta 1), reused 3 (delta 1), pack-reused 0
Unpacking objects: 100% (3/3), done.
From github.com:michaelliao/learngit
   d1be385..f005ed4  master     -&gt; origin/master
 * [new tag]         v1.0       -&gt; v1.0
Auto-merging hello.py
Merge made by the &#39;recursive&#39; strategy.
 hello.py | 1 +
 1 file changed, 1 insertion(+)
</code></pre>
<p>再用<code>git status</code>看看状态：</p>
<pre><code class="lang-shell">$ git status
On branch master
Your branch is ahead of &#39;origin/master&#39; by 3 commits.
  (use &quot;git push&quot; to publish your local commits)

nothing to commit, working tree clean
</code></pre>
<p>加上刚才合并的提交，现在我们本地分支比远程分支超前3个提交。</p>
<p>用<code>git log</code>看看：</p>
<pre><code>$ git log --graph --pretty=oneline --abbrev-commit
*   e0ea545 (HEAD -&gt; master) Merge branch &#39;master&#39; of github.com:michaelliao/learngit
|\  
| * f005ed4 (origin/master) set exit=1
* | 582d922 add author
* | 8875536 add comment
|/  
* d1be385 init hello
...
</code></pre><p>如果现在把本地分支push到远程，有没有问题？有！不好看！</p>
<p>这个时候，rebase就派上了用场。我们输入命令<code>git rebase</code>试试：</p>
<pre><code class="lang-shell">$ git rebase
First, rewinding head to replay your work on top of it...
Applying: add comment
Using index info to reconstruct a base tree...
M    hello.py
Falling back to patching base and 3-way merge...
Auto-merging hello.py
Applying: add author
Using index info to reconstruct a base tree...
M    hello.py
Falling back to patching base and 3-way merge...
Auto-merging hello.py
</code></pre>
<p>输出了一大堆操作，到底是啥效果？再用<code>git log</code>看看：</p>
<pre><code class="lang-shell">$ git log --graph --pretty=oneline --abbrev-commit
* 7e61ed4 (HEAD -&gt; master) add author
* 3611cfe add comment
* f005ed4 (origin/master) set exit=1
* d1be385 init hello
...
</code></pre>
<p>原本分叉的提交现在变成一条直线了！这种神奇的操作是怎么实现的？其实原理非常简单。我们注意观察，发现Git把我们本地的提交“挪动”了位置，放到了<code>f005ed4 (origin/master) set exit=1</code>之后，这样，整个提交历史就成了一条直线。rebase操作前后，最终的提交内容是一致的，但是，我们本地的commit修改内容已经变化了，它们的修改不再基于<code>d1be385 init hello</code>，而是基于<code>f005ed4 (origin/master) set exit=1</code>，但最后的提交<code>7e61ed4</code>内容是一致的。</p>
<p>这就是rebase操作的特点：把分叉的提交历史“整理”成一条直线，看上去更直观。缺点是本地的分叉提交已经被修改过了。</p>
<p>最后，通过push操作把本地分支推送到远程,再用<code>git log</code>看看效果,远程分支的提交历史也是一条直线。</p>
<h2 id="标签管理"><a href="#标签管理" class="headerlink" title="标签管理"></a>标签管理</h2><p>发布一个版本时，我们通常先在版本库中打一个标签（tag），这样，就唯一确定了打标签时刻的版本。将来无论什么时候，取某个标签的版本，就是把那个打标签的时刻的历史版本取出来。所以，标签也是版本库的一个快照。</p>
<p>Git的标签虽然是版本库的快照，但其实它就是指向某个commit的指针（跟分支很像对不对？但是分支可以移动，标签不能移动），所以，创建和删除标签都是瞬间完成的。Git有commit，为什么还要引入tag？commit号复杂，tag简介。</p>
<p>tag就是一个让人容易记住的有意义的名字，它跟某个commit绑在一起。</p>
<h4 id="创建标签"><a href="#创建标签" class="headerlink" title="创建标签"></a>创建标签</h4><p>在Git中打标签非常简单，首先，切换到需要打标签的分支上：</p>
<pre><code class="lang-shell">$ git branch
* dev
  master
$ git checkout master
Switched to branch &#39;master&#39;
</code></pre>
<p>然后，敲命令<code>git tag</code>就可以打一个新标签：</p>
<pre><code class="lang-shell">$ git tag v1.0
</code></pre>
<p>可以用命令<code>git tag</code>查看所有标签：</p>
<pre><code class="lang-bash">$ git tag
v1.0
</code></pre>
<p>默认标签是打在最新提交的commit上的。有时候，如果忘了打标签，比如，现在已经是周五了，但应该在周一打的标签没有打，怎么办？</p>
<p>方法是找到历史提交的commit id，然后打上就可以了：</p>
<pre><code class="lang-bash">$ git log --pretty=oneline --abbrev-commit
12a631b (HEAD -&gt; master, tag: v1.0, origin/master) merged bug fix 101
4c805e2 fix bug 101
e1e9c68 merge with no-ff
f52c633 add merge
cf810e4 conflict fixed
5dc6824 &amp; simple
14096d0 AND simple
b17d20e branch test
d46f35e remove test.txt
b84166e add test.txt
519219b git tracks changes
e43a48b understand how stage works
1094adb append GPL
e475afc add distributed
eaadf4e wrote a readme file
</code></pre>
<p>比方说要对<code>add merge</code>这次提交打标签，它对应的commit id是<code>f52c633</code>，敲入命令：</p>
<pre><code class="lang-bash">$ git tag v0.9 f52c633
</code></pre>
<p>再用命令<code>git tag</code>查看标签：</p>
<pre><code class="lang-bash">$ git tag
v0.9
v1.0
</code></pre>
<p>注意，标签不是按时间顺序列出，而是按字母排序的。可以用<code>git show</code>查看标签信息：</p>
<pre><code class="lang-shell">$ git show v0.9
commit f52c63349bc3c1593499807e5c8e972b82c8f286 (tag: v0.9)
Author: Michael Liao &lt;askxuefeng@gmail.com&gt;
Date:   Fri May 18 21:56:54 2018 +0800

    add merge

diff --git a/readme.txt b/readme.txt
...
</code></pre>
<p>可以看到，<code>v0.9</code>确实打在<code>add merge</code>这次提交上。</p>
<p>还可以创建带有说明的标签，用<code>-a</code>指定标签名，<code>-m</code>指定说明文字：</p>
<pre><code class="lang-bash">$ git tag -a v0.1 -m &quot;version 0.1 released&quot; 1094adb
</code></pre>
<p> <strong>注意：</strong>标签总是和某个commit挂钩。如果这个commit既出现在master分支，又出现在dev分支，那么在这两个分支上都可以看到这个标签。</p>
<h4 id="操作标签"><a href="#操作标签" class="headerlink" title="操作标签"></a>操作标签</h4><p>如果标签打错了，也可以删除：</p>
<pre><code class="lang-bash">$ git tag -d v0.1
Deleted tag &#39;v0.1&#39; (was f15b0dd)
</code></pre>
<p>因为创建的标签都只存储在本地，不会自动推送到远程。所以，打错的标签可以在本地安全删除。</p>
<p>如果要推送某个标签到远程，使用命令<code>git push origin</code>：</p>
<pre><code class="lang-bash">$ git push origin v1.0
Total 0 (delta 0), reused 0 (delta 0)
To github.com:michaelliao/learngit.git
 * [new tag]         v1.0 -&gt; v1.0
</code></pre>
<p>或者，一次性推送全部尚未推送到远程的本地标签：</p>
<pre><code class="lang-bash">$ git push origin --tags
Total 0 (delta 0), reused 0 (delta 0)
To github.com:michaelliao/learngit.git
 * [new tag]         v0.9 -&gt; v0.9
</code></pre>
<p>如果标签已经推送到远程，要删除远程标签就麻烦一点，先从本地删除：</p>
<pre><code class="lang-bash">$ git tag -d v0.9
Deleted tag &#39;v0.9&#39; (was f52c633)
</code></pre>
<p>然后，从远程删除。删除命令也是push，但是格式如下：</p>
<pre><code class="lang-bash">$ git push origin :refs/tags/v0.9
To github.com:michaelliao/learngit.git
 - [deleted]         v0.9
</code></pre>
<p>要看看是否真的从远程库删除了标签，可以登陆GitHub查看。</p>
<h4 id="小结-8"><a href="#小结-8" class="headerlink" title="小结"></a>小结</h4><ul>
<li>命令<code>git tag</code>用于新建一个标签，默认为<code>HEAD</code>，也可以指定一个commit id；</li>
<li>命令<code>git tag -a  -m &quot;blablabla...&quot;</code>可以指定标签信息；</li>
<li><p>命令<code>git tag</code>可以查看所有标签。</p>
</li>
<li><p>命令<code>git push origin</code>可以推送一个本地标签；</p>
</li>
<li>命令<code>git push origin --tags</code>可以推送全部未推送过的本地标签；</li>
<li>命令<code>git tag -d</code>可以删除一个本地标签；</li>
<li>命令<code>git push origin :refs/tags/</code>可以删除一个远程标签。</li>
</ul>
<h2 id="使用gtihub"><a href="#使用gtihub" class="headerlink" title="使用gtihub"></a>使用gtihub</h2><p>我们一直用GitHub作为免费的远程仓库，如果是个人的开源项目，放到GitHub上是完全没有问题的。其实GitHub还是一个开源协作社区，通过GitHub，既可以让别人参与你的开源项目，也可以参与别人的开源项目。</p>
<p>如何参与一个开源项目呢？比如人气极高的bootstrap项目，这是一个非常强大的CSS框架，你可以访问它的项目主页<a href="https://github.com/twbs/bootstrap，点“Fork”就在自己的账号下克隆了一个bootstrap仓库，然后，从自己的账号下clone：" target="_blank" rel="noopener">https://github.com/twbs/bootstrap，点“Fork”就在自己的账号下克隆了一个bootstrap仓库，然后，从自己的账号下clone：</a></p>
<pre><code>git clone git@github.com:michaelliao/bootstrap.git
</code></pre><p>一定要从自己的账号下clone仓库，这样你才能推送修改。如果从bootstrap的作者的仓库地址<code>git@github.com:twbs/bootstrap.git</code>克隆，因为没有权限，你将不能推送修改。</p>
<p>Bootstrap的官方仓库<code>twbs/bootstrap</code>、你在GitHub上克隆的仓库<code>my/bootstrap</code>，以及你自己克隆到本地电脑的仓库，他们的关系就像下图显示的那样：</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit0612_002.jpg" style="zoom: 67%;"></p>
<p>如果你希望bootstrap的官方库能接受你的修改，你就可以在GitHub上发起一个<strong>pull request</strong>。当然，对方是否接受你的pull request就不一定了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit0612_003.jpg" style="zoom:67%;"></p>
<h4 id="小结-9"><a href="#小结-9" class="headerlink" title="小结"></a>小结</h4><ul>
<li>在GitHub上，可以任意Fork开源仓库；</li>
<li>自己拥有Fork后的仓库的读写权限；</li>
<li>可以推送pull request给官方仓库来贡献代码。</li>
</ul>
<h2 id="git总结"><a href="#git总结" class="headerlink" title="git总结"></a>git总结</h2><p>友情附赠国外网友制作的Git Cheat Sheet，建议打印出来备用：</p>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/teach/git-cheatsheet.pdf" target="_blank" rel="noopener">Git Cheat Sheet</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/note_gitgit0612_005.jpg" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200525191035.png" style="zoom: 67%;"></p>
<h3 id="新建代码库"><a href="#新建代码库" class="headerlink" title="新建代码库"></a>新建代码库</h3><pre><code class="lang-bash">git init # 在当前目录新建一个Git代码库
git init [project-name] # 新建一个目录，将其初始化为Git代码库
git clone [url] # 下载一个项目和它的整个代码历史
</code></pre>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><pre><code class="lang-bash">git config --list # 显示当前的Git配置
git config -e [--global] # 编辑Git配置文件
git config [--global] user.name &quot;[name]&quot; # 设置提交代码时的用户信息 
git config [--global] user.email &quot;[email address]&quot; # 设置提交代码时的用户邮箱信息
</code></pre>
<h3 id="增加-删除文件"><a href="#增加-删除文件" class="headerlink" title="增加/删除文件"></a>增加/删除文件</h3><pre><code class="lang-bash">git add [file1] [file2] ... # 添加指定文件到暂存区
git add [dir] # 添加指定目录到暂存区，包括子目录
git add . # 添加当前目录的所有文件到暂存区$ 
git add -p # 添加每个变化前，都会要求确认,对于同一个文件的多处变化，可以实现分次提交
git rm [file1] [file2] ... # 删除工作区文件，并且将这次删除放入暂存区
git rm --cached [file] # 停止追踪指定文件，但该文件会保留在工作区
git mv [file-original] [file-renamed] # 改名文件，并且将这个改名放入暂存区
</code></pre>
<h3 id="代码提交"><a href="#代码提交" class="headerlink" title="代码提交"></a>代码提交</h3><pre><code class="lang-bash">git commit -m [message] # 提交暂存区到仓库区
git commit [file1] [file2] ... -m [message] # 提交暂存区的指定文件到仓库区
git commit -a # 提交工作区自上次commit之后的变化，直接到仓库区
git commit -v # 提交时显示所有diff信息
git commit --amend -m [message] # 使用一次新的commit，替代上一次提交,如果代码没有任何新变化，则用来改写上一次commit的提交信息 
git commit --amend [file1] [file2] ... # 重做上一次commit，并包括指定文件的新变化
</code></pre>
<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><pre><code class="lang-bash">git branch # 列出所有本地分支
git branch -r # 列出所有远程分支
git branch -a # 列出所有本地分支和远程分支
git branch [branch-name] # 新建一个分支，但依然停留在当前分支
git checkout -b [branch] # 新建一个分支，并切换到该分支
git branch [branch] [commit] # 新建一个分支，指向指定commit
git branch --track [branch] [remote-branch] #新建一个分支，与指定的远程分支建立追踪关系
git checkout [branch-name] # 切换到指定分支，并更新工作区
git checkout - # 切换到上一个分支
git branch --set-upstream [branch] [remote-branch] # 建立追踪关系，在现有分支与指定的远程分支之间
git merge [branch] # 合并指定分支到当前分支
git cherry-pick [commit] # 选择一个commit，合并进当前分支
git branch -d [branch-name] # 删除分支
git push origin --delete [branch-name]
git branch -dr [remote/branch] # 删除远程分支
</code></pre>
<h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><pre><code class="lang-bash">git tag # 列出所有tag
git tag [tag] # 新建一个tag在当前commit
git tag [tag] [commit] # 新建一个tag在指定commit
git tag -d [tag] # 删除本地tag 
git push origin :refs/tags/[tagName] # 删除远程tag
git show [tag] # 查看tag信息
git push [remote] [tag] # 提交指定tag
git push [remote] --tags # 提交所有tag
git checkout -b [branch] [tag] # 新建一个分支，指向某个tag
</code></pre>
<h3 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h3><pre><code class="lang-bash">git status # 显示有变更的文件
git log # 显示当前分支的版本历史
git log --stat # 显示commit历史，以及每次commit发生变更的文件
git log -S [keyword] # 搜索提交历史，根据关键词
git log [tag] HEAD --pretty=format:%s # 显示某个commit之后的所有变动，每个commit占据一行
git log [tag] HEAD --grep feature # 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件
git log --follow [file]
git whatchanged [file] # 显示某个文件的版本历史，包括文件改名
git log -p [file] # 显示指定文件相关的每一次diff 
git log -5 --pretty --oneline # 显示过去5次提交
git shortlog -sn # 显示所有提交过的用户，按提交次数排序
git blame [file] # 显示指定文件是什么人在什么时间修改过
git diff # 显示暂存区和工作区的差异
git diff --cached [file] # 显示暂存区和上一个commit的差异
git diff HEAD # 显示工作区与当前分支最新commit之间的差异
git diff [first-branch]...[second-branch] # 显示两次提交之间的差异
git diff --shortstat &quot;@{0 day ago}&quot; # 显示今天你写了多少行代码
git show [commit] # 显示某次提交的元数据和内容变化
git show --name-only [commit] # 显示某次提交发生变化的文件
git show [commit]:[filename] # 显示某次提交时，某个文件的内容 
git reflog# 显示当前分支的最近几次提交
</code></pre>
<h3 id="远程同步"><a href="#远程同步" class="headerlink" title="远程同步"></a>远程同步</h3><pre><code class="lang-bash">git fetch [remote]  # 下载远程仓库的所有变动
git remote -v # 显示所有远程仓库
git remote show [remote] # 显示某个远程仓库的信息
git remote add [shortname] [url] # 增加一个新的远程仓库，并命名
git pull [remote] [branch] # 取回远程仓库的变化，并与本地分支合并
git push [remote] [branch] # 上传本地指定分支到远程仓库
git push [remote] --force # 强行推送当前分支到远程仓库，即使有冲突
git push [remote] --all # 推送所有分支到远程仓库
</code></pre>
<h3 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h3><pre><code class="lang-bash">git checkout [file] # 恢复暂存区的指定文件到工作区
git checkout [commit] [file] # 恢复某个commit的指定文件到暂存区和工作区
git checkout . # 恢复暂存区的所有文件到工作区
git reset [file] # 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变
git reset --hard # 重置暂存区与工作区，与上一次commit保持一致
git reset [commit]  # 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变
git reset --hard [commit]  # 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致
git reset --keep [commit]  # 重置当前HEAD为指定commit，但保持暂存区和工作区不变
git revert [commit]  # 新建一个commit，用来撤销指定commit,后者的所有变化都将被前者抵消，并且应用到当前分支
git stash
git stash pop # 暂时将未提交的变化移除，稍后再移入
</code></pre>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/custom/donate/alipay.jpg"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/custom/donate/wechatqr.jpg"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2020/05/21/SOURCETREE-3-1-3-版本跳过BITBUCKET注册方法（亲测好用）/" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/loader/orange.progress-bar-stripe-loader.svg" data-src="//cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200521100712.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="//cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_git/20200521100712.jpg">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                SOURCETREE 3.1.3 版本跳过BITBUCKET注册方法（亲测好用）</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2020/05/21/Hexo搭建个人博客网站（步骤篇）/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_hexo/hexo.jpeg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/technology_hexo/hexo.jpeg">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                Hexo搭建个人网站(步骤篇)</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "4NBvruApUCpLtmlsyQLevDfx-gzGzoHsz",
        appKey: "eTSHbT3jvLQPcVYMC7QFXQFd",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="www.yulinblog.com" class="profile gravatar"><img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/custom/avatar.jpg" itemprop="image" alt="YUYU" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="www.yulinblog.com" itemprop="url" rel="author">YUYU</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>一个好奇的人</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 YU YU<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>

       <!-- 不蒜子统计 -->
       <div><i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
        <span id="busuanzi_container_site_pv" >
             <i class="fa fa-eye" aria-hidden="true"></i><span id="busuanzi_value_site_pv"></span>
        </span>
        <span class="post-meta-divider">|</span>

        <span id="busuanzi_container_site_uv" style='display:none'>
            <i class="fa fa-user-o" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
        </span>
        <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
        </div>


      <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>
  var now = new Date();
  function createtime() {
    var grt= new Date("05/19/2020 22:00:00");//此处修改你的建站时间或者网站上线时间
    now.setTime(now.getTime()+250);
    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
    document.getElementById("timeDate").innerHTML = "博客已悄悄运行 "+dnum+" 天 ";
    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
  }
  setInterval("createtime()",250);</script>
  
      
      
</div>

    <div class="footer-device" style="font-family: 'Ubuntu', sans-serif;">
   
        <span style="color: #b9b9b9;"></i>&copy 2020 <i class="fa fa-heart" aria-hidden="true" style="color: pink;"></i> YUYU 

        </span>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?5b4b3bde9daad1e9f0023976853b7793";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>

<script type="text/javascript" src="/js/funnytitle.js"></script>
<script type="text/javascript" src="/js/loveclick.js"></script>



<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>


 
<div class="skin-menu no-select" id="mainskin"  style="position: fixed">
    <div class="theme-controls row-container">
        <ul class="menu-list">
            <li id="white-bg"> <i class="fa fa-television" aria-hidden="true"></i></li>
            <li id="sakura-bg"> <i class="iconfont icon-sakura"></i></li>
            <li id="gribs-bg"> <i class="fa fa-slack" aria-hidden="true"></i></li>
            <li id="KAdots-bg"> <i class="iconfont icon-dots"></i></li>
            <li id="totem-bg"> <i class="fa fa-optin-monster" aria-hidden="true"></i></li>
            <li id="pixiv-bg"> <i class="iconfont icon-pixiv"></i></li>
            <li id="bing-bg"> <i class="iconfont icon-bing"></i></li>
            <li id="dark-bg"> <i class="fa fa-moon-o" aria-hidden="true"></i></li>
        </ul>
    </div>
</div>   
<canvas id="night-mode-cover"></canvas>
 
  

<div class="changeSkin-gear no-select">
    <div class="keys" id="setbtn"> <span id="open-skinMenu"> 切换主题 | SCHEME TOOL &nbsp;<i
                class="iconfont icon-gear inline-block rotating"></i> </span></div>
</div>

  
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/sunshine98yy/mycdn/img/custom/avatar.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">ひみつきちYUYU</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="http://github.com/sunshine98yy" class="fa fa-github" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
        <a href="mailto:sunshine98yy@163.com" class="fa fa-envelope" target="_blank" style="color: #dd4b39; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fas fa-home" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/技术/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/笔记/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  笔记
                </a>
              </li>
            
              <li>
                <a href="/categories/项目/">
                  <i class="fa fa-git" aria-hidden="true"></i>
                  项目
                </a>
              </li>
            
              <li>
                <a href="/categories/随想/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  随想
                </a>
              </li>
            
              <li>
                <a href="/categories/转载/">
                  <i class="fa fa-share" aria-hidden="true"></i>
                  转载
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/bangumi/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  书单
                </a>
              </li>
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
              <li>
                <a href="/tags/光影艺术/">
                  <i class="fa fa-photo" aria-hidden="true"></i>
                  摄影
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/tags/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-tag" aria-hidden="true"></i>
            标签
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/categories/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-bookmark" aria-hidden="true"></i>
            分类
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            友人帐
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/donate/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
            赞赏
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/atom.xml">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
            RSS
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="980618283"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
  <script type="text/javascript" src="source/js/loveclick.js"></script>
  
</body>
</html>